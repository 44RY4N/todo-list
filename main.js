(()=>{"use strict";const e={currentProject:"null",allProjects:[]},t=document.querySelector("#content");function o(o,n=!0){if(n){if(!e.currentProject||"string"==typeof e.currentProject)return void console.error("No valid project selected.");e.currentProject.items.push(o)}const c=document.createElement("div");c.classList.add("todoContainer");const d=document.createElement("div");d.classList.add("todoTitle");const l=document.createElement("div");l.classList.add("todoDesc");const r=document.createElement("div");r.classList.add("todoDuedate");const i=document.createElement("div");i.classList.add("todoPriority");const s=document.createElement("div");s.classList.add("todoChecked"),d.textContent=o.title,l.textContent=o.description,r.textContent=o.duedate,i.textContent=`Priority: ${o.priority}`,s.textContent=o.checked,c.appendChild(d),c.appendChild(l),c.appendChild(r),c.appendChild(i),c.appendChild(s),t.appendChild(c)}const n=document.querySelector("#content"),c=document.querySelector("#projectContainer");class d{static copy=1;static id=1;constructor(e,t){this.title=e||"Project#"+d.copy++,this.desc=t||"no description",this.items=[],this.id=d.id++}showProject(){!function(e){console.log(`Project Title => ${e.title}`),console.log(`Project desc => ${e.desc}`),console.log("Project items");for(const t of e.items)console.log(t.title)}(this)}add(e){this.items.push(e)}}function l(t,l){let r=new d(t,l);return function(t){const d=document.createElement("div");d.classList.add("projectTitle"),d.textContent=t.title,d.dataset.projectId=t.id,d.addEventListener("click",(t=>{t.currentTarget.dataset.projectId!=e.currentProject.id&&(console.log("event listner added"),function(t){n.innerHTML="";const c=Number(t.currentTarget.dataset.projectId),d=e.allProjects.find((e=>e.id===c));if(!d)return console.error("Project not found for ID:",c),void(n.textContent="Project not found.");if(0===d.items.length)n.textContent="No todos in this project.";else for(let e of d.items)o(e,!1);e.currentProject=d,console.log("Project found",d.title)}(t))})),c.appendChild(d)}(r),e.allProjects.push(r),r}const r=document.querySelector("#overlay"),i=document.createElement("div"),s=document.createElement("input"),a=document.createElement("textarea"),p=document.createElement("button");s.type="text",s.placeholder="Enter project title",a.placeholder="desc...",p.textContent="Add Project",p.addEventListener("click",(()=>{l(s.value,a.value),r.style.display="none",s.value="",a.value=""})),i.appendChild(s),i.appendChild(a),i.appendChild(p),r.addEventListener("click",(()=>{r.style.display="none"})),i.id="popPro",r.appendChild(i),i.addEventListener("click",(e=>e.stopPropagation()));class u{static copy=1;constructor(e,t,o,n,c){this.title=e||"Note#"+u.copy++,this.description=t||"no description",this.duedate=o||"no duedate",this.priority=n||0,this.checked=c||!1}showTodo(){var e;e=this,console.log(`Todo Title => ${e.title}`),console.log(`Todo description => ${e.description}`),console.log(`Todo duedate => ${e.duedate}`),console.log(`Todo priority => ${e.priority}`),console.log(`Todo check status => ${e.checked}`)}}function m(e,t,n,c,d){let l=new u(e,t,n,c,d);return o(l),l}const y=document.querySelector("#overlay"),h=document.createElement("div"),v=document.createElement("input");v.type="text";const C=document.createElement("textarea"),j=document.createElement("input");j.type="date";const E=document.createElement("input");E.type="number";const f=document.createElement("button");v.placeholder="Enter project title",C.placeholder="desc...",f.textContent="Add Todo",f.addEventListener("click",(()=>{m(v.value,C.value,j.valueAsNumber,E.value,!1),y.style.display="none",v.value="",C.value="",j.value="",E.value=""})),h.appendChild(v),h.appendChild(C),h.appendChild(j),h.appendChild(E),h.appendChild(f),y.addEventListener("click",(()=>{y.style.display="none"})),h.id="popTo",y.appendChild(h),h.addEventListener("click",(e=>e.stopPropagation()));const P=document.querySelector("header"),x=document.createElement("h1");x.textContent="Your Digital Todo-List",P.appendChild(x);let g=l("",""),L=m("","example project","","","");g.add(L),console.log("all projects in index"),document.querySelector("#project").addEventListener("click",(function(){document.querySelector("#popTo").style.display="none",document.querySelector("#popPro").style.display="flex",r.style.display="flex"})),document.querySelector("#newtodo").addEventListener("click",(function(){document.querySelector("#popPro").style.display="none",document.querySelector("#popTo").style.display="flex",y.style.display="flex"})),document.querySelector("#projectContainer div").click()})();